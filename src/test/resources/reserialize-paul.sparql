# Use a construct query with the subtypes
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX schema: <https://schema.org/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

CONSTRUCT {
  ?uri a ?class ;
       ?property ?value .
} WHERE {
  BIND(<https://example.org/paul> AS ?uri)
  ?uri a ?originalClass .
  ?originalClass rdfs:subClassOf ?class .

  ?uri ?originalProperty ?originalValue .
  ?originalProperty rdfs:subPropertyOf ?property .

  BIND( IF (DATATYPE(?originalValue) = xsd:gDate, STRDT(STR(?originalValue), schema:Date), STR(?originalValue)) AS ?value )
  FILTER(STRSTARTS(STR(?class), STR("http://xmlns.com/foaf/0.1/")))
}